"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var e=require("react");exports.default=function(t,r){void 0===r&&(r=""),window.localStorage.getItem(t)||window.localStorage.setItem(t,JSON.stringify(r));var n=e.useState((function(){var e=window.localStorage.getItem(t);return e&&function(e){if(!e)return!1;try{var t=JSON.parse(e);if(t&&"object"==typeof t)return!0}catch(e){}return!1}(e)?JSON.parse(e):e})),o=n[0],a=n[1];e.useEffect((function(){var e=window.localStorage.getItem(t);o!==e&&a(e||r)}));var i=e.useCallback((function(e){e.key===t&&e.newValue!==o&&a(e.newValue||r)}),[o]);return e.useEffect((function(){return window.addEventListener("storage",i),function(){return window.removeEventListener("storage",i)}}),[i]),[o,function(e){return a(e),window.localStorage.setItem(t,JSON.stringify(e))}]};
//# sourceMappingURL=react-use-localstorage.cjs.production.min.js.map
